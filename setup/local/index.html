<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Log Locally - Guide | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="Log data locally to emonPi">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://guide.openenergymonitor.org/setup/local/">

    <meta property="fb:app_id" content="xxxxxxxxxxxxxxx">
    <meta property="og:title" content="Log Locally">
    <meta property="og:site_name" content="Guide | OpenEnergyMonitor">
    <meta property="og:url" content="http://guide.openenergymonitor.org/setup/local/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Log data locally to emonPi">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Log Locally">
    <meta name="twitter:description" content="Log data locally to emonPi">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Guide | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
    <link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
    <link rel="apple-touch-icon" href="/images/favicon-57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="/images/favicon-144.png">
    <meta name="msapplication-config" content="/images/browserconfig.xml">
    
    <script>
    src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("button").click(function(){
        $("p").toggle();
    });
});
</script>

    
   
     <!--<link href='https://fonts.googleapis.com/css?family=Raleway:400,400italic,700' rel='stylesheet' type='text/css' -->

  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    <!--<span>Guide | OpenEnergyMonitor</span>-->
    <span style="color:#777;font-weight:bold;font-family:Arial;font-size:20">
Open</span><span style="color:#44b3e2;font-weight:bold;font-family:Arial;font-size:20">EnergyMonitor</span>
  </a>
</div>


<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a  href='/setup/'>Setup </a></li>
  <li>
    <a href="/applications/">Applications <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a  href='/applications/home-energy/'>Home Energy </a></li>
      <li><a  href='/applications/solar-pv/'>Solar PV </a></li>
    </ul>
  </li>
  <li><a  href='/integrations/'>Integrations </a></li>
  <li><a  href='/technical/'>Technical </a></li>

  <li>
   <a href="/help/">Help <i class="icon icon-caret-down"></i></a>
    <ul>
     <li><a  href='https://community.openenergymonitor.org/'>Forum </a></li>
    </ul>
  </li>
   <li><a  href='http://shop.openenergymonitor.com'>Shop <i class="icon icon-shopping-cart"></i> </a></li>

</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="page">
  
    

  
  <header>
    <h1 class="title indent">
      Log Locally
    </h1>
  </header>
  <hr class="divider">
  

  <h3 id="laquo-previous-step-connectsetupconnect"><a href="/setup/connect/">« Previous step: Connect</a></h3>

<h3 id="next-step-log-remotely-raquosetupremote"><a href="/setup/remote/">Next step: Log Remotely »</a></h3>

<hr />

<p>Data can now be logged to Emoncms runnning on the emonPi’s local server, data will be saved to the Raspberry Pi’s SD card.</p>

<p>Data can also (optionally) be posted remotly to <a href="https://emoncms.org">Emoncms.org</a>, see <a href="/setup/remote/">Next step: Log Remotely</a>.</p>

<p>For application specific input processing see:</p>

<ul>
  <li><a href="/applications/home-energy">Applications &gt; Home Energy</a></li>
  <li><a href="/applications/solar-pv">Applications &gt; Solar PV</a>.</li>
</ul>

<h2 id="a-classtitle-link-name1-emoncms-inputs-href1-emoncms-inputsa-1-emoncms-inputs"><a class="title-link" name="1-emoncms-inputs" href="#1-emoncms-inputs"></a> 1. Emoncms Inputs</h2>

<ul>
  <li>Login to Local Emoncms <a href="http://emonpi/">http://emonpi/</a> (or local IP address)</li>
  <li>Navigate to <code class="highlighter-rouge">Setup &gt; Inputs</code></li>
</ul>

<p>You should now see an updating input list of connected nodes (e.g emonPi, emonTx, emonTH) and they keys (e.g. power1, power2 etc.) together with the last received value. If you do not, see <a href="/setup/troubleshooting">Setup &gt; Troubleshooting</a>.</p>

<p>Input data is not saved to disk. To save an input Emoncms Input Processing is used to log an input to a Feed. Feed data is then logged persistantly to disk. To log an Input to a Feed:</p>

<ul>
  <li>Click on the <code class="highlighter-rouge">Input Config Spanner</code> next to the input you wish to log to a Feed:</li>
</ul>

<p><img src="/images/setup/local-log1.png" alt="Emoncms Inputs" /></p>

<ul>
  <li>Process List setup box will open</li>
  <li>Choose required Input Process e.g <code class="highlighter-rouge">Log to Feed</code></li>
  <li>Create a new feed giving it a name e.g. <code class="highlighter-rouge">use</code> or log to an existing feed *</li>
  <li>Select the default <code class="highlighter-rouge">PHPFINA</code> Feed Engine</li>
  <li>Select a logging interval e.g. <code class="highlighter-rouge">10s</code> **</li>
  <li>Click add to <code class="highlighter-rouge">Add</code> to add that input process</li>
</ul>

<p><img src="/images/setup/local-log2.png" alt="Input Processing Power" /></p>

<p>If logging a <code class="highlighter-rouge">Power</code> value input you will also want to create a corresponding KWh Feed. This is done by adding another input process:</p>

<ul>
  <li>Choose <code class="highlighter-rouge">Power to KWh</code> Input Process</li>
  <li>Create a new KWh feed e.g. <code class="highlighter-rouge">use_kwh</code> *</li>
</ul>

<p><img src="/images/setup/local-log3.png" alt="Input Processing kwh" /></p>

<ul>
  <li>Once required input processes have been added click <code class="highlighter-rouge">Changed, Press to Save</code></li>
  <li>Then <code class="highlighter-rouge">Close</code> the Input List window</li>
</ul>

<p><img src="/images/setup/local-log4.png" alt="Input Processes List View" /></p>

<ul>
  <li>The Inputs page should now display the active input processes in the <code class="highlighter-rouge">Process list</code> column</li>
</ul>

<p><img src="/images/setup/local-log5.png" alt="Input View with processing" /></p>

<ul>
  <li>Navigate to <code class="highlighter-rouge">Setup &gt; Feeds</code></li>
  <li>Updating feeds should now be visible</li>
</ul>

<p><img src="/images/setup/local-log6.png" alt="Feed View" /></p>

<ul>
  <li>To view the feed data click the <code class="highlighter-rouge">Eye Icon</code></li>
  <li>This will open <code class="highlighter-rouge">Data Viewer</code></li>
  <li>Multiple feeds can be overlayed on the same graph by checking the boxes on the right hand side</li>
  <li>To view daily data see <a href="/setup/daily-kwh">Emoncms &gt; Daily KWh</a>.</li>
</ul>

<p>Note: no data will be visible immediately. Wait a few hours to build up some data before trying to view a feed.</p>

<p><img src="/images/setup/data-viewer.png" alt="Feed Viewer" /></p>

<p>* Using standard feed names such as <code class="highlighter-rouge">use</code>, <code class="highlighter-rouge">use_kwh</code>, <code class="highlighter-rouge">solar</code>, <code class="highlighter-rouge">solar_kwh</code> <code class="highlighter-rouge">import</code> and <code class="highlighter-rouge">import_kwh</code> (<strong>case sensitive</strong>) will automate the setup of MyElectric, MySolar PV and Android app dashboards. See <a href="/setup/dashboards">Setup &gt; Dashboards</a> and <a href="/applications/home-energy">Home Energy</a> and <a href="/applications/solar-pv">Solar PV</a> applications pages for more info.</p>

<p>** Feed interval loging time should not be less (faster) then the default node update rate. Choosing a longer (slower) update rate is fine and will conserve disk space:</p>

<table>
  <tbody>
    <tr>
      <td><strong>Node</strong></td>
      <td><strong>Max Update Rate</strong></td>
    </tr>
    <tr>
      <td>emonPi</td>
      <td>5s</td>
    </tr>
    <tr>
      <td>emonTx</td>
      <td>10s</td>
    </tr>
    <tr>
      <td>emonTH</td>
      <td>60s</td>
    </tr>
  </tbody>
</table>

<p>We recommend making regular backups of local data. See <a href="/setup/import">Setup &gt; Import/Backup</a>.</p>

<h3 id="video-guide">Video Guide</h3>
<div class="videoWrapper">
<iframe width="300" height="315" src="https://www.youtube.com/embed/8nVP0Hgkuuc" frameborder="0" allowfullscreen=""></iframe>
</div>

<p><br /></p>

<hr />

<h3 id="next-step-log-remotely-raquosetupremote-1"><a href="/setup/remote/">Next step: Log Remotely »</a></h3>


</article>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  

  
    <section class="aside-module grid__item one-whole lap-one-half">
  <div class='edit-github'><a href='https://github.com/openenergymonitor/guide/tree/master/source/setup/local.markdown'>Edit on GitHub</a></div>
<div class='edit-github'><a href='http://prose.io/#openenergymonitor/guide/edit/master/source/setup/local.markdown'>Edit on GitHub Prose</a></div>


  <div class='section'>
    <h1 class="title delta">Contents</h1>
    <ul class='divided sidebar-menu'>
      <li>
          <b>Setup</b>
        <ul>
          <li><a  href='/setup/'>Hardware </a></li>
          <li><a  href='/setup/connect/'>Connect </a></li>
          <li><a  href='/setup/install/'>Install </a></li>
          <li><a class='active' href='/setup/local/'>Log Locally </a></li>
          <li><a  href='/setup/remote/'>Log Remotely </a></li>
          <li><a  href='/setup/dashboards/'>Dashboards </a></li>
          <li><a  href='/setup/emontx/'>Add Energy Sensing Node(s) </a></li>
          <li><a  href='/setup/emonth/'>Add Temperature Node(s) </a></li>
          <li><a  href='/setup/optical-pulse-sensor/'>Add Optical Pulse Sensor </a></li>
          <li><a  href='/setup/import/'>Import / Backup </a></li>
          <li><a  href='/setup/north-america/'>Use in North America </a></li>
          <li><a  href='/setup/troubleshooting/'>Troubleshooting </a></li>
        </ul>
        <li>
          <b>Emoncms</b>
          <ul>
          <li><a  href='/setup/daily-kwh'>Daily kWh </a></li>
          <li><a  href='/setup/daily-averages'>Daily Averages </a></li>
          <li><a  href='/setup/export-csv'>Exporting CSV </a></li>
          <li><a  href='/setup/histograms'>Histograms </a></li>
          <li><a  href='/technical/api/'>Emoncms API </a></li>
        </ul>


      </li>

      <li>
         <b>Applications</b>
        <ul>
         <li><a  href='/applications/home-energy/'>Home Energy </a></li>
         <li><a  href='/applications/solar-pv/'>Solar PV </a></li>
         <li><a  href='http://heatpumpmonitor.org/'>Heatpump <i class="icon-external-link"></i> </a></li>
        </ul>
      </li>

      <li>
         <b>Integrations</b>
        <ul>
         <li><a  href='/integrations/nodered/'>Node-RED </a></li>
         <li><a  href='/integrations/openhab/'>OpenHAB </a></li>
         <li><a  href='/integrations/mqtt-relay/'>Control Relay </a></li>
         <li><a  href='/integrations/lightwaverf/'>LightWave RF Control </a></li>
        </ul>

      <li>
        <b>Technical</b>
       <ul>
        <li><a  href='/technical/'>Overview </a></li>
        <li><a  href='/technical/specifications/'>Specifications </a></li>
        <li><a  href='/technical/credentials/'>Service Credentials </a></li>
        <li><a  href='/technical/mqtt/'>MQTT </a></li>
        <li><a  href='/technical/compiling/'>Firmware Modification </a></li>
        <li><a  href='/technical/resources/'>Resources </a></li>
       </ul>
      </li>

      <li>
     <b>Support</b>
        <ul>
         <li><a  href='https://community.openenergymonitor.org/latest'>Community Forum <i class="icon-external-link"></i> </a>
         <li><a  href='/help/'>Contact </a></li>
        </ul>
      </li>


    </div>
<gcse:search></gcse:search>
</section>
    <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta"<li><a href='https://openenergymonitor.org' target="_blank">OpenEnergyMonitor <i class="icon-external-link"></i></h1>
  <ul class="divided">
    <li>
      A project to develop <a href='https://openenergymonitor.org/emon/opensustech'>open-source tools</a> to help us relate to our use of energy, our energy systems and the challenge of <a href='https://openenergymonitor.org/emon/sustainable-energy'>sustainable energy</a>.
    </li>
    
  </ul>
  <p>
  <h1 class="title delta"<li><a href='https://emoncms.org' target="_blank">Emoncms <i class="icon-external-link"></i></a></li></h1>
  <ul class="divided">
    <li>
      Emoncms is a powerful <a href='https://github.com/emoncms'>open-source</a> web-app for processing, logging and visualising energy, temperature and other environmental data.
    </li>
  </ul>
</section>
  

    
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <style>


div.searchtool {
  position: relative;
  display: inline-block;
  top: -6px;
}

input[type=text] {
  border: 3px solid #44b3e2;
}

fieldset {
  border: 0;
}

</style>
<div class="copyright">

  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor/guide'><i class="icon-github"></i></a>
  <a rel="me" href='http://blog.openenergymonitor.org'><i class="icon-bullhorn"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and <a href='https://github.com/coogie/oscailte'>Oscalite</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>

<div class="searchtool">


<form action="https://encrypted.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:guide.openenergymonitor.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search..." />
  </fieldset>
</form>


</div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-5'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>



<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>