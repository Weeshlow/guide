<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Connect - Guide | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="Connect to network & create account">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="http://guide.openenergymonitor.org/setup/connect/">

    <meta property="fb:app_id" content="xxxxxxxxxxxxxxx">
    <meta property="og:title" content="Connect">
    <meta property="og:site_name" content="Guide | OpenEnergyMonitor">
    <meta property="og:url" content="http://guide.openenergymonitor.org/setup/connect/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Connect to network & create account">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Connect">
    <meta name="twitter:description" content="Connect to network & create account">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Guide | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
    <link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
    <link rel="apple-touch-icon" href="/images/favicon-57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="/images/favicon-144.png">
    <meta name="msapplication-config" content="/images/browserconfig.xml">
    
    <script>
    src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("button").click(function(){
        $("p").toggle();
    });
});
</script>

    
   
     <!--<link href='https://fonts.googleapis.com/css?family=Raleway:400,400italic,700' rel='stylesheet' type='text/css' -->

  </head>

  <body >

    <header>
      <div class="grid-wrapper">
  <div class="grid">

    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
  <a href="/" class="site-title">
    <!--<img width='40' src='/images/favicon-192x192.png'> -->
    <!--<span>Guide | OpenEnergyMonitor</span>-->
    <span style="color:#777;font-weight:bold;font-family:Arial;font-size:20">
Open</span><span style="color:#0699fa;font-weight:bold;font-family:Arial;font-size:20">EnergyMonitor</span>
  </a>
</div>


<div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
  <nav>
    <input type="checkbox" id="toggle">
<label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
<ul class="menu pull-right">
  <li><a  href='/setup/'>Setup </a></li>
  <li>
    <a href="/applications/">Applications <i class="icon icon-caret-down"></i></a>
    <ul>
      <li><a  href='/applications/home-energy/'>Home Energy </a></li>
      <li><a  href='/applications/solar-pv/'>Solar PV </a></li>
    </ul>
  </li>
  <li><a  href='/integrations/'>Integrations </a></li>
  <li><a  href='/technical/'>Technical </a></li>

  <li>
   <a href="/help/">Help <i class="icon icon-caret-down"></i></a>
    <ul>
     <li><a  href='https://community.openenergymonitor.org/'>Forum </a></li>
    </ul>
  </li>
   <li><a  href='http://shop.openenergymonitor.com'>Shop <i class="icon icon-shopping-cart"></i> </a></li>

</ul>
  </nav>
</div>

  </div>
</div>
    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          <article class="page">
  
    

  
  <header>
    <h1 class="title indent">
      Connect
    </h1>
  </header>
  <hr class="divider">
  

  <h3 id="laquo-previous-step-required-hardwaresetup"><a href="/setup/">« Previous step: Required Hardware</a></h3>

<h3 id="next-step-install-raquosetupinstall"><a href="/setup/install/">Next step: Install »</a></h3>

<hr />

<h3 id="a-classtitle-link-namefirst-boot-hreffirst-boota-first-boot"><a class="title-link" name="first-boot" href="#first-boot"></a> First Boot</h3>

<p class="note">
<b>This guide assumes you are using an emonPi / emonBase pre-built SD card.</b>
</p>

<p>This SD card can be <a href="http://shop.openenergymonitor.com/pre-loaded-emonsd-microsd-card-for-raspberry-pi/">purchased from the shop</a> or downloaded:</p>

<ul>
  <li><a href="https://github.com/openenergymonitor/emonpi/wiki/emonSD-pre-built-SD-card-Download-&amp;-Change-Log">Pre-build SD card download &amp; Change Log</a></li>
  <li><a href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md">Instructions to flash image to SD card (RaspberryPi)</a></li>
</ul>

<p><em>The emonPi runs the Emoncms data logging web-app locally from emonPi’s internal web sever. Using Emoncms data can be logged locally to the emonPi’s SD card and (optionally) posted remotely to the <a href="https://emoncms.org">Emoncms.org</a> cloud server.</em></p>

<p class="note">
<b>Emoncms local:</b> Emoncms instance running locally on the emonPi
<br />
<b>Emoncms remote:</b> Emoncms.org cloud server.
</p>

<h3 id="a-classtitle-link-name1-connect-ethernet-and-usb-power-href1-connect-ethernet-and-usb-powera-1-connect-ethernet-and-usb-power"><a class="title-link" name="1-connect-ethernet-and-usb-power" href="#1-connect-ethernet-and-usb-power"></a> 1. Connect Ethernet and USB power</h3>

<p><img src="/images/setup/emonpi_ethernet_first_boot.png" alt="emonPi First Boot Ethernet" /></p>

<ul>
  <li>
    <p><a href="http://shop.openenergymonitor.com/power-supplies/">1.2A USB power adapter recommended</a></p>
  </li>
  <li>
    <p class="note"> Take care to connect the Ethernet to the socket on the same side as the USB sockets, not the RJ45 connector on the opposite side.</p>
  </li>
  <li>The emonPi LCD display will display firmware version then scan for connected sensors. Once the Raspberry Pi has booted up, the LCD will display the IP address of the emonPi on the local network.</li>
  <li><img src="/images/setup/Etherent_Connected.jpg" alt="Ethernet Connected" /></li>
</ul>

<h3 id="a-classtitle-link-name2-enter-the-emonpis-ip-address-into-your-web-browsers-address-bar-href2-enter-the-emonpis-ip-address-into-your-web-browsers-address-bara-2-enter-the-emonpis-ip-address-into-your-web-browsers-address-bar"><a class="title-link" name="2-enter-the-emonpis-ip-address-into-your-web-browsers-address-bar" href="#2-enter-the-emonpis-ip-address-into-your-web-browsers-address-bar"></a> 2. Enter the emonPi’s IP address into your web browser’s address bar</h3>

<ul>
  <li>Browsing the hostname will work on some networks: <a href="http://emonpi">http://emonpi</a></li>
  <li><em>If using an emonBase and hostname does not work, look up its IP address from your router or use the Fing Network Discovery tool on <a href="https://play.google.com/store/apps/details?id=com.overlook.android.fing&amp;hl=en_GB">Android</a> and <a href="https://itunes.apple.com/gb/app/fing-network-scanner/id430921107?mt=8">iOS</a></em>.</li>
</ul>

<h3 id="a-classtitle-link-name3-create-local-emoncms-user-account-href3-create-local-emoncms-user-accounta-3-create-local-emoncms-user-account"><a class="title-link" name="3-create-local-emoncms-user-account" href="#3-create-local-emoncms-user-account"></a> 3. Create local Emoncms user account</h3>

<p><img src="/images/setup/Emoncms_reg.png" width="250" /></p>

<ul>
  <li>By default only a single (admin) account can be created on local emonPi Emoncms. To enable multiple accounts edit Emoncms settings in <code class="highlighter-rouge">/var/www/emoncms/settings.php</code></li>
</ul>

<h3 id="a-classtitle-link-name4-connect-to-wifi-optional-href4-connect-to-wifi-optionala-4-connect-to-wifi-optional"><a class="title-link" name="4-connect-to-wifi-optional" href="#4-connect-to-wifi-optional"></a> 4. Connect to WiFi (optional)</h3>

<p>WiFi is optional and requires either a RaspberryPi 3 (integrated WiFi) or a USB WiFi dongle (<a href="http://shop.openenergymonitor.com/edimax-usb-wifi-adapter-ew-7811un/">Edimax EW7811UN</a>).</p>

<p><em>Note: All emonPis shipped June 2016 onwards will have a Raspberry Pi 3 as standard, emonPis with a Pi3 can be identified by a plastic end-plate(s). <a href="https://blog.openenergymonitor.org/2016/05/emonpi-raspberrypi3/">See blog post</a>.</em></p>

<p><img src="/images/setup/wifi9_0.png" alt="Connect to Wifi" /></p>

<ol>
  <li><strong>Wifi config in <em>local Emoncms</em> : <code class="highlighter-rouge">Setup &gt; Wi-Fi</code></strong>
    <ul>
      <li>Network scan should happen automatically.</li>
    </ul>
  </li>
  <li>
    <p><strong>Check the box to select the network(s) you want to connect to</strong></p>
  </li>
  <li>
    <p><strong>Enter PSK password</strong></p>
  </li>
  <li><strong>Hit <code class="highlighter-rouge">Save and Connect</code></strong></li>
</ol>

<p>After a few seconds information should refresh automatically to report <code class="highlighter-rouge">Status: Connected</code> and after a few more seconds the IP address should appear.</p>

<h3 id="a-classtitle-link-nameassign-static-ip-optional--advanced-hrefassign-static-ip-optional--advanceda-assign-static-ip-optional--advanced"><a class="title-link" name="assign-static-ip-optional--advanced" href="#assign-static-ip-optional--advanced"></a> Assign static IP (Optional &amp; Advanced)</h3>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>

<script src="/javascripts/showHide.js" type="text/javascript"></script>

<script type="text/javascript">

$(document).ready(function(){
   $('.show_hide').showHide({
		speed: 100,  // speed you want the toggle to happen
		easing: '',  // the animation effect you want. Remove this line if you dont want an effect and if you haven't included jQuery UI
		changeText: 0, // if you dont want the button text to change, set this to 0
		showText: 'View',// the button text to show when a div is closed
		hideText: 'Close' // the button text to show when a div is open
					 
	});
});
</script>

<p><button type="button" class="show_hide" href="#" rel="#slidingDiv">View</button></p>
<div id="slidingDiv" class="toggleDiv" style="display: none;">
    <p>If local static IP address is required the easiest way is to allow IP address to be given via DHCP then fix the IP address on the router. Not all routers support this.</p>

    <p>Alternatively to set a static IP address on the emonPi itself connect via SSH and edit /etc/network/interfaces. E.g the following commands will SSH into emonPi, create backup of the interfaces file then setup a static IP on Ethernet. For WiFi change eth0 to wlan0.</p>
    <pre>
    $ shh pi@192.168.X.X
    User: "pi" | Password: "emonpi2016"
    $ rpi-rw
    $ sudo cp /etc/network/interfaces /etc/network/backup_interfaces
    $ sudo nano /etc/network/interfaces
    <br />
    &gt; Edit the file to be the following changing to suit your network: <br />
    auto lo
    iface lo inet loopback
    iface eth0 inet static
    address 10.0.1.96        # Static IP address
    netmask 255.255.255.0
    network 10.0.1.0
    broadcast 10.0.1.255
    gateway 10.0.1.254       # IP address gateway (router)
    <br />
    [CTRL + X] then Y to save and exit nano
    $rpi-ro
    </pre>
    <a href="http://www.modmypi.com/blog/tutorial-how-to-give-your-raspberry-pi-a-static-ip-address">Tutorial - How to give your Raspberry Pi a Static IP Address</a>


</div>

<p><br /></p>

<h3 id="a-classtitle-link-name5-connect-via-3g-gsm-optional-href5-connect-via-3g-gsm-optionala-5-connect-via-3g-gsm-optional"><a class="title-link" name="5-connect-via-3g-gsm-optional" href="#5-connect-via-3g-gsm-optional"></a> 5. Connect via 3G GSM (optional)</h3>

<p>Huawei HiLink 3G USB GSM/3G dongle modems are supported. Connection should be automatic and LCD will display connection status. (<em>Tested with Huawei E3231 and E3131</em>).</p>

<p><img src="/images/setup/3g.jpg" width="200" /></p>

<p><a href="https://github.com/openenergymonitor/huawei-hilink-status">GSM Documentation</a> | <a href="https://github.com/openenergymonitor/emonpi/tree/master/wifiAP">WiFi Access -point setup (dev)</a></p>

<h3 id="a-classtitle-link-name6-update-href6-updatea-6-update"><a class="title-link" name="6-update" href="#6-update"></a> 6. Update</h3>

<p><strong>UPDATE HIGHLY RECOMMENDED:</strong> Now your emonPi is connected to a network this would be a good time to pull in any new updates: <code class="highlighter-rouge">Setup &gt; Admin &gt; Update</code></p>

<h3 id="a-classtitle-link-name6-shutdown-href6-shutdowna-6-shutdown"><a class="title-link" name="6-shutdown" href="#6-shutdown"></a> 6. Shutdown</h3>

<p>Shut down the emonPi by holding down the shutdown button for 5 seconds, then wait 30 seconds for unit to fully shut down.</p>

<p><img src="/images/setup/emonPi_shutdown.png" width="200" /></p>

<p class="note warning">
Unplugging power from the emonPi without following the correct shutdown procedure can result in a corrupted SD card.
</p>

<p>The emonPi is now ready to be physically installed and the sensors connected.</p>

<p><br /></p>

<h3 id="video-guide">Video Guide</h3>
<div class="videoWrapper">
<iframe width="560" height="315" src="https://www.youtube.com/embed/77WEj9Q6JEE" frameborder="0" allowfullscreen=""></iframe>
</div>

<hr />

<h3 id="next-step-install-raquosetupinstall-1"><a href="/setup/install/">Next step: Install »</a></h3>


</article>


        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">

  

  
    <section class="aside-module grid__item one-whole lap-one-half">
  <div class='edit-github'><a href='https://github.com/openenergymonitor/guide/tree/master/source/setup/connect.markdown'>Edit on GitHub</a></div>
<div class='edit-github'><a href='http://prose.io/#openenergymonitor/guide/edit/master/source/setup/connect.markdown'>Edit on GitHub Prose</a></div>


  <div class='section'>
    <h1 class="title delta">Contents</h1>
    <ul class='divided sidebar-menu'>
      <li>
          <b>Setup</b>
        <ul>
          <li><a  href='/setup/'>Hardware </a></li>
          <li><a class='active' href='/setup/connect/'>Connect </a></li>
          <li><a  href='/setup/install/'>Install </a></li>
          <li><a  href='/setup/local/'>Log Locally </a></li>
          <li><a  href='/setup/remote/'>Log Remotely </a></li>
          <li><a  href='/setup/dashboards/'>Dashboards </a></li>
          <li><a  href='/setup/emontx/'>Add Energy Nodes </a></li>
          <li><a  href='/setup/emonth/'>Add Temperature Nodes </a></li>
          <li><a  href='/setup/import/'>Import / Backup </a></li>
          <li><a  href='/setup/north-america/'>Use in North America </a></li>
          <li><a  href='/setup/troubleshooting/'>Troubleshooting </a></li>
        </ul>
        <li>
          <b>Emoncms</b>
          <ul>
          <li><a  href='/setup/daily-kwh'>Daily kWh </a></li>
          <li><a  href='/setup/daily-averages'>Daily Averages </a></li>
          <li><a  href='/setup/export-csv'>Exporting CSV </a></li>
          <li><a  href='/setup/histograms'>Histograms </a></li>
          <li><a  href='/technical/api/'>Emoncms API </a></li>
        </ul>


      </li>

      <li>
         <b>Applications</b>
        <ul>
         <li><a  href='/applications/home-energy/'>Home Energy </a></li>
         <li><a  href='/applications/solar-pv/'>Solar PV </a></li>
         <li><a  href='http://heatpumpmonitor.org/'>Heatpump <i class="icon-external-link"></i> </a></li>
        </ul>
      </li>

      <li>
         <b>Integrations</b>
        <ul>
         <li><a  href='/integrations/nodered/'>Node-RED </a></li>
         <li><a  href='/integrations/openhab/'>OpenHAB </a></li>
         <li><a  href='/integrations/mqtt-relay/'>Control Relay </a></li>
         <li><a  href='/integrations/lightwaverf/'>LightWave RF Control </a></li>
        </ul>

      <li>
        <b>Technical</b>
       <ul>
        <li><a  href='/technical/'>Overview </a></li>
        <li><a  href='/technical/specifications/'>Specifications </a></li>
        <li><a  href='/technical/credentials/'>Service Credentials </a></li>
        <li><a  href='/technical/mqtt/'>MQTT </a></li>
        <li><a  href='/technical/compiling/'>Firmware Modification </a></li>
        <li><a  href='/technical/resources/'>Resources </a></li>
       </ul>
      </li>

      <li>
     <b>Support</b>
        <ul>
         <li><a  href='https://community.openenergymonitor.org/latest'>Community Forum <i class="icon-external-link"></i> </a>
         <li><a  href='/help/'>Contact </a></li>
        </ul>
      </li>


    </div>
<gcse:search></gcse:search>
</section>
    <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta"<li><a href='https://openenergymonitor.org' target="_blank">OpenEnergyMonitor <i class="icon-external-link"></i></h1>
  <ul class="divided">
    <li>
      A project to develop <a href='https://openenergymonitor.org/emon/opensustech'>open-source tools</a> to help us relate to our use of energy, our energy systems and the challenge of <a href='https://openenergymonitor.org/emon/sustainable-energy'>sustainable energy</a>.
    </li>
    
  </ul>
  <p>
  <h1 class="title delta"<li><a href='https://emoncms.org' target="_blank">Emoncms <i class="icon-external-link"></i></a></li></h1>
  <ul class="divided">
    <li>
      Emoncms is a powerful <a href='https://github.com/emoncms'>open-source</a> web-app for processing, logging and visualising energy, temperature and other environmental data.
    </li>
  </ul>
</section>
  

    
</div>
        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <style>


div.searchtool {
  position: relative;
  display: inline-block;
  top: -6px;
}

input[type=text] {
  border: 3px solid #0699fa;
}

fieldset {
  border: 0;
}

</style>
<div class="copyright">

  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor/guide'><i class="icon-github"></i></a>
  <a rel="me" href='http://blog.openenergymonitor.org'><i class="icon-bullhorn"></i></a>

  <div class="credit">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and <a href='https://github.com/coogie/oscailte'>Oscalite</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>

<div class="searchtool">


<form action="https://encrypted.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:guide.openenergymonitor.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search..." />
  </fieldset>
</form>


</div>
</div>
    </div>
  </div>
</div>
    </footer>

    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <script>
  var _gaq=[['_setAccount','UA-10321170-5'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>



<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

  </body>
</html>